<html>
<head></head>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-vis"></script>
    <!-- <script lang="js">
      function getModel(){
        const model = tf.sequential();
        model.add(tf.layers.dense({units: 1, inputShape: [1]}));
        model.compile({loss:'meanSquaredError', 
                       optimizer:'sgd'});
        //model.summary();
        return model;
      }

        async function doTraining(model,xs,ys){
            const history = 
                  await model.fit(xs, ys, 
                        { epochs: 500,
                          callbacks:{
                              onEpochEnd: async(epoch, logs) =>{
                                  console.log("Epoch:" 
                                              + epoch 
                                              + " Loss:" 
                                              + logs.loss);
                                  
                              }
                          }
                        });
        }
function save() {
  const dimensions=[1,1];
  var tensor=tf.tensor2d([val],dimensions);
  var prediction = model.predict(tensor);
  alert(prediction);
}

function erase() {
  document.getElementById('xs').placeholder="";
}

function init(){
  val = document.getElementById('xs');  
  saveButton = document.getElementById('sb');
  saveButton.addEventListener("click", save);
  clearButton = document.getElementById('cb');
  clearButton.addEventListener("click", erase);
}

  const xs = tf.tensor2d([-1.0, 0.0, 1.0, 2.0, 3.0, 4.0], [6, 1]);
  const ys = tf.tensor2d([-3.0, -1.0, 2.0, 3.0, 5.0, 7.0], [6, 1]);
        
  const model = getModel();
  await doTraining(model,xs,ys); 
  init();
  alert("Training is done, try predicting your values!");
</script> -->
    
<body>
    <h1>Hello World y=2*x-1 predictor</h1>
    
    <input type="text" placeholder="Let's predict ys for xs..." id="xs" style="position:absolute;left:100;">
    <input type="button" value="predict" id="sb" size="48" style="position:absolute;top:100;left:100;">
    <input type="button" value="clear" id="cb" size="23" style="position:absolute;top:100;left:180;">
    <script src="FirstHTML.js" type="module"></script>
    
</body>
</html>